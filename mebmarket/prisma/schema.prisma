generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model book {
  bookId   Int       @id
  bookname String    @db.VarChar(255)
  author   String    @db.VarChar(50)
  price    Float     @db.Float
  cover    String?   @db.VarChar(200)
  rating   Float?    @db.Float
  date     DateTime? @db.DateTime(0)
  synopsis String?   @db.MediumText
}

model categorized {
  bookId     Int
  categoryId Int

  @@id([bookId, categoryId])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model category {
  categoryId   Int    @id
  categoryName String @db.VarChar(50)
}

model creditcard {
  id             Int      @id
  username       String   @db.VarChar(30)
  cardNumber     String   @db.VarChar(16)
  cardHolderName String   @db.VarChar(255)
  expiry_month   Int
  expiry_year    Int
  cvv            String   @db.VarChar(4)
  billingAddress String   @db.VarChar(255)
  createDate     DateTime @db.Date
  updatedDate    DateTime @db.Date
  user           user     @relation(fields: [username], references: [username], onDelete: Cascade, map: "creditcard_ibfk_1")

  @@index([username], map: "username")
}

model user {
  username   String       @id @unique(map: "username") @db.VarChar(30)
  email      String       @db.VarChar(255)
  password   String       @db.VarChar(255)
  firstname  String       @db.VarChar(50)
  lastname   String       @db.VarChar(50)
  role       String       @default("m") @db.Char(1)
  valid      Boolean      @default(true)
  creditcard creditcard[]
}
